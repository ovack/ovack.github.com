<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/base/favicon.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/base/favicon.jpg">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ovack.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="è¿™ç¯‡æ–‡æ¡£åœ¨å®˜æ–¹æ–‡æ¡£æ”¹ç‰ˆä¹‹åå·²ç»è¢«åˆ é™¤äº†ï¼Œä¿ç•™ä¸‹æ¥æ˜¯å› ä¸ºæˆ‘è§‰å¾—å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£Dockerã€‚  Docker æ¦‚è¿°Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your in">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker æ¦‚è§ˆ">
<meta property="og:url" content="https://ovack.com/2016/10/20/Docker-Overview/index.html">
<meta property="og:site_name" content="ovack">
<meta property="og:description" content="è¿™ç¯‡æ–‡æ¡£åœ¨å®˜æ–¹æ–‡æ¡£æ”¹ç‰ˆä¹‹åå·²ç»è¢«åˆ é™¤äº†ï¼Œä¿ç•™ä¸‹æ¥æ˜¯å› ä¸ºæˆ‘è§‰å¾—å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£Dockerã€‚  Docker æ¦‚è¿°Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your in">
<meta property="og:image" content="https://ovack.com/images/engine-components-flow.png">
<meta property="og:image" content="https://ovack.com/images/architecture.svg">
<meta property="article:published_time" content="2016-10-20T14:52:34.000Z">
<meta property="article:modified_time" content="2016-10-20T14:52:35.000Z">
<meta property="article:author" content="ovack">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ovack.com/images/engine-components-flow.png">

<link rel="canonical" href="https://ovack.com/2016/10/20/Docker-Overview/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Docker æ¦‚è§ˆ | ovack</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49858833-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-49858833-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ovack</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ç¬”è®°æœ¬</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">14</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://ovack.com/2016/10/20/Docker-Overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/base/avatar.jpg">
      <meta itemprop="name" content="ovack">
      <meta itemprop="description" content="åªæ˜¯ä¸ªè®°äº‹æœ¬ï½ï½ï½ğŸ—’">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ovack">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Docker æ¦‚è§ˆ
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2016-10-20 22:52:34 / Modified: 22:52:35" itemprop="dateCreated datePublished" datetime="2016-10-20T22:52:34+08:00">2016-10-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>è¿™ç¯‡æ–‡æ¡£åœ¨å®˜æ–¹æ–‡æ¡£æ”¹ç‰ˆä¹‹åå·²ç»è¢«åˆ é™¤äº†ï¼Œä¿ç•™ä¸‹æ¥æ˜¯å› ä¸ºæˆ‘è§‰å¾—å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£Dockerã€‚</p>
</blockquote>
<h1 id="Docker-æ¦‚è¿°"><a href="#Docker-æ¦‚è¿°" class="headerlink" title="Docker æ¦‚è¿°"></a>Docker æ¦‚è¿°</h1><p>Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your infrastructure so you can deliver software quickly. With Docker, you can manage your infrastructure in the same ways you manage your applications. By taking advantage of Dockerâ€™s methodologies for shipping, testing, and deploying code quickly, you can significantly reduce the delay between writing code and running it in production.</p>
<p>Dockeræ˜¯ä¸€ä¸ªä¸ºå¼€å‘ï¼Œæ‰˜ç®¡ï¼Œè¿è¡Œåº”ç”¨çš„å¼€æºçš„å¹³å°ã€‚Dockerå…è®¸ä½ ä»ä½ çš„åŸºç¡€è®¾æ–½ä¸Šæ‹†åˆ†ä½ çš„åº”ç”¨ï¼Œå› æ­¤ä½ å¯ä»¥è¿›è¡Œå¿«é€Ÿåˆ†å‘ä½ çš„è½¯ä»¶ã€‚é€šè¿‡Dockerï¼Œä½ å¯ä»¥åƒç®¡ç†ä½ çš„åº”ç”¨é‚£æ ·ç®¡ç†ä½ çš„åŸºç¡€è®¾æ–½ã€‚å¾—ç›ŠäºDockerå¯ä»¥å¿«é€Ÿçš„è¿›è¡Œæ‰˜ç®¡ï¼Œæµ‹è¯•å’Œéƒ¨ç½²ï¼Œä½ å¯ä»¥æ˜¾è‘—çš„èŠ‚çœä»ç¼–å†™ä»£ç åˆ°å‘å¸ƒäº§å“æ‰€éœ€çš„æ—¶é—´ã€‚</p>
<a id="more"></a>

<h2 id="What-is-the-Docker-platform"><a href="#What-is-the-Docker-platform" class="headerlink" title="What is the Docker platform?"></a>What is the Docker platform?</h2><p>Docker provides the ability to package and run an application in a loosely isolated environment called a container. The isolation and security allow you to run many containers simultaneously on a given host. Because of the lightweight nature of containers, which run without the extra load of a hypervisor, you can run more containers on a given hardware combination than if you were using virtual machines.</p>
<p>Docker provides tooling and a platform to manage the lifecycle of your containers:</p>
<ul>
<li>Encapsulate your applications (and supporting components) into Docker containers</li>
<li>Distribute and ship those containers to your teams for further development and testing</li>
<li>Deploy those applications to your production environment, whether it is in a local data center or the Cloud</li>
</ul>
<p>Dockerå…è®¸ä½ åœ¨ä¸€ä¸ªè½»é‡éš”ç¦»çš„å®¹å™¨ä¸­æ‰“åŒ…å’Œè¿è¡Œåº”ç”¨ã€‚éš”ç¦»å’Œå®‰å…¨å…è®¸ä½ åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œå¤šä¸ªå®¹å™¨ã€‚ç”±äºå®¹å™¨å¤©ç”Ÿçš„è½»é‡çº§ï¼Œç›¸æ¯”è™šæ‹Ÿæœºè¿è¡Œæ—¶ä¸éœ€è¦åŠ è½½æ›´å¤šçš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨ç›¸åŒçš„ç¡¬ä»¶æ¡ä»¶ä¸‹è¿è¡Œæ›´å¤šæ•°é‡çš„å®¹å™¨ã€‚</p>
<p>Dockerä¸ºä½ åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæä¾›å·¥å…·å’Œå¹³å°ï¼š</p>
<ul>
<li>æŠŠä½ çš„åº”ç”¨ï¼ˆåŒ…å«ä¾èµ–ï¼‰æ‰“åŒ…è¿›å®¹å™¨ã€‚</li>
<li>ä¸ºäº†æœªæ¥çš„å¼€å‘å’Œæµ‹è¯•åˆ†å‘å’Œæ‰˜ç®¡è¿™äº›å®¹å™¨ç»™ä½ çš„å›¢é˜Ÿã€‚</li>
<li>éƒ¨ç½²è¿™äº›åº”ç”¨åˆ°ä½ çš„ç”Ÿäº§ç¯å¢ƒï¼Œæ— è®ºå®ƒæ˜¯æœ¬åœ°çš„æ•°æ®ä¸­å¿ƒè¿˜æ˜¯åœ¨äº‘ç«¯ã€‚</li>
</ul>
<h2 id="What-is-Docker-Engine"><a href="#What-is-Docker-Engine" class="headerlink" title="What is Docker Engine?"></a>What is Docker Engine?</h2><p><em>Docker Engine</em> is a client-server application with these major components:</p>
<ul>
<li><p>A server which is a type of long-running program called a daemon process.</p>
</li>
<li><p>A REST API which specifies interfaces that programs can use to talk to the daemon and instruct it what to do.</p>
</li>
<li><p>A command line interface (CLI) client.</p>
</li>
</ul>
<p>Dockerå¼•æ“æ˜¯ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å‡ ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†çš„client-serveråº”ç”¨ï¼š</p>
<ul>
<li>serverï¼šä¸€ä¸ªå«åšå®ˆæŠ¤è¿›ç¨‹çš„é•¿æ—¶é—´è¿è¡Œçš„ç¨‹åºã€‚</li>
<li>REST APIï¼šå’Œå®ˆæŠ¤è¿›ç¨‹é€šä¿¡å¹¶å‘Šè¯‰å®ƒè¯¥åšä»€ä¹ˆçš„å…·ä½“æ¥å£ã€‚</li>
<li>clientï¼š å‘½ä»¤è¡Œï¼ˆCLIï¼‰</li>
</ul>
<p><img src="/images/engine-components-flow.png" alt=""></p>
<p>The CLI uses the Docker REST API to control or interact with the Docker daemon through scripting or direct CLI commands. Many other Docker applications use the underlying API and CLI.</p>
<p>The daemon creates and manages Docker <em>objects</em>, such as images, containers, networks, and data volumes.</p>
<p>CLIé€šè¿‡Docker REST APIä½¿ç”¨è„šæœ¬æˆ–è€…ç›´æ¥çš„CLIå‘½ä»¤æ§åˆ¶å™¨Dockerå®ˆæŠ¤è¿›ç¨‹ã€‚è®¸å¤šå…¶ä»–çš„Dockeråº”ç”¨ä½¿ç”¨åº•å±‚çš„APIå’ŒCLIã€‚</p>
<p>å®ˆæŠ¤è¿›ç¨‹åˆ›å»ºå’Œç®¡ç†Dockerå¯¹è±¡ï¼Œæ¯”å¦‚é•œåƒï¼Œå®¹å™¨ï¼Œç½‘ç»œï¼Œå’Œæ•°æ®å·ã€‚</p>
<blockquote>
<p><strong>Note:</strong> Docker is licensed under the open source Apache 2.0 license.</p>
<p>æ³¨æ„ï¼šDockeråœ¨å¼€æº Apache 2.0 æˆæƒä¹‹ä¸‹</p>
</blockquote>
<h2 id="What-can-I-use-Docker-for"><a href="#What-can-I-use-Docker-for" class="headerlink" title="What can I use Docker for?"></a>What can I use Docker for?</h2><p><em>Fast, consistent delivery of your applications</em></p>
<p>Docker can streamline the development lifecycle by allowing developers to work in standardized environments using local containers which provide your applications and services. You can also integrate Docker into your continuous integration and continuous deployment (CI/CD) workflow.</p>
<p>Consider the following example scenario. Your developers write code locally and share their work with their colleagues using Docker containers. They can use Docker to push their applications into a test environment and execute automated and manual tests. When developers find problems, they can fix them in the development environment and redeploy them to the test environment for testing. When testing is complete, getting the fix to the customer is as simple as pushing the updated image to the production environment.</p>
<p><em>å¿«é€Ÿï¼Œä¸€è‡´çš„åˆ†å‘ä½ çš„åº”ç”¨</em></p>
<p>å¼€å‘è€…é€šè¿‡ä½¿ç”¨æ ‡å‡†ç»Ÿä¸€çš„æœ¬åœ°åŒ–Dockerå®¹å™¨ä½¿å¼€å‘å·¥ä½œæµç¨‹åŒ–ã€‚ä½ å¯ä»¥å°†Dockerç»Ÿä¸€åˆ°ä½ çš„æŒç»­é›†æˆå’ŒæŒç»­å¼€å‘å·¥ä½œæµç¨‹ä¸­ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ä»¥ä¸‹ç¤ºä¾‹æƒ…æ™¯ã€‚ä½ çš„å¼€å‘äººå‘˜é€šè¿‡å®¹å™¨å‘ä»–çš„åŒäº‹åˆ†äº«ä»–çš„å·¥ä½œæˆæœã€‚ä»–ä»¬å¯ä»¥æŠŠå¥¹ä»¬çš„åº”ç”¨æ¨é€åˆ°æµ‹è¯•ç¯å¢ƒè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚å½“å¼€å‘è€…å‘ç°é—®é¢˜ï¼Œç„¶åä»–ä»¬åœ¨å¼€å‘ç¯å¢ƒä¿®å¤è¿™äº›é—®é¢˜å¹¶é‡æ–°éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒè¿›è¡Œæµ‹è¯•ã€‚å½“æµ‹è¯•é€šè¿‡ï¼Œæ¨é€åˆ°å®¢æˆ·é‚£é‡Œå°±ä»…ä»…æ˜¯ç®€å•çš„æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</p>
<p><em>Responsive deployment and scaling</em></p>
<p>Dockerâ€™s container-based platform allows for highly portable workloads. Docker containers can run on a developerâ€™s local host, on physical or virtual machines in a data center, in the Cloud, or in a mixture of environments.</p>
<p>Dockerâ€™s portability and lightweight nature also make it easy to dynamically manage workloads, scaling up or tearing down applications and services as business needs dictate, in near real time.</p>
<p><em>å“åº”å¼éƒ¨ç½²å’Œæ‰©å……</em></p>
<p>DockeråŸºäºå®¹å™¨çš„å¹³å°å…è®¸é«˜å¯ç§»æ¤å·¥ä½œé‡ã€‚Dockerå®¹å™¨å¯ä»¥è¿è¡Œåœ¨å¼€å‘è€…è‡ªå·±çš„æœ¬åœ°æœºå™¨ä¸Šï¼Œåœ¨ç‰©ç†æˆ–è™šæ‹Ÿçš„æ•°æ®ä¸­å¿ƒï¼Œåœ¨äº‘ç«¯ï¼Œæˆ–è€…åœ¨æ··åˆç¯å¢ƒä¸­ã€‚</p>
<p>ä¸ºäº†ä¸šåŠ¡éœ€æ±‚ï¼ŒDockerçš„å¯ç§»æ¤æ€§å’Œå¤©ç„¶çš„è½»é‡å¯ä»¥å¾ˆæ–¹ä¾¿å¿«é€Ÿçš„åŠ¨æ€ç®¡ç†è´Ÿè½½ï¼Œæ‰©å……æˆ–æ‹†é™¤ä¸šåŠ¡ã€‚</p>
<p><em>Running more workloads on the same hardware</em></p>
<p>Docker is lightweight and fast. It provides a viable, cost-effective alternative to hypervisor-based virtual machines, allowing you to use more of your compute capacity to achieve your business goals. This is useful in high density environments and for small and medium deployments where you need to do more with fewer resources.</p>
<p><em>åœ¨ç›¸åŒçš„ç¡¬ä»¶ä¸Šå®Œæˆæ›´å¤šçš„å·¥ä½œé‡</em></p>
<p>Dockeræ˜¯è½»é‡é«˜æ•ˆçš„ã€‚å®ƒæä¾›ä¸€ä¸ªå¯è¡Œçš„ï¼ŒèŠ±è´¹å°‘çš„è™šæ‹Ÿæœºæ›¿ä»£å“ï¼Œå…è®¸ä½ ä½¿ç”¨ä½ çš„ç”µè„‘å®ç°æ›´å¤šçš„å•†ä¸šä»·å€¼ã€‚è¿™å¯¹äºåœ¨æ›´å°‘çš„èµ„æºä¸Šè¿è¡Œæ›´å¤šçš„ä¸­å°å‹åº”ç”¨éå¸¸æœ‰ç”¨ã€‚</p>
<h2 id="What-is-Dockerâ€™s-architecture"><a href="#What-is-Dockerâ€™s-architecture" class="headerlink" title="What is Dockerâ€™s architecture?"></a>What is Dockerâ€™s architecture?</h2><p>Docker uses a client-server architecture. The Docker <em>client</em> talks to the Docker <em>daemon</em>, which does the heavy lifting of building, running, and distributing your Docker containers. The Docker client and daemon <em>can</em> run on the same system, or you can connect a Docker client to a remote Docker daemon. The Docker client and daemon communicate via sockets or through a REST API.</p>
<p>Docker ä½¿ç”¨client-serverçš„æ„å»ºæ–¹å¼ã€‚_client_å’Œ_Docker_å®ˆæŠ¤è¿›ç¨‹è¿›è¡Œé€šè®¯ï¼Œæ¥è¿›è¡Œæ„å»ºï¼Œè¿è¡Œï¼Œå’Œæ”¯é…ä½ çš„Dockerå®¹å™¨ã€‚Dockerçš„clientå’Œå®ˆæŠ¤è¿›ç¨‹å¯ä»¥è¿è¡Œåœ¨ç›¸åŒçš„ç³»ç»Ÿä¸Šï¼Œæˆ–è€…ä½ å¯ä»¥Docker clientè¿æ¥è¿œç¨‹çš„Dockerå®ˆæŠ¤è¿›ç¨‹ã€‚Docker clienté€šè¿‡REST API ä½¿ç”¨socketså’Œå®ˆæŠ¤è¿›ç¨‹è¿›è¡Œé€šè®¯ã€‚</p>
<p><img src="/images/architecture.svg" alt=""></p>
<h3 id="The-Docker-daemon"><a href="#The-Docker-daemon" class="headerlink" title="The Docker daemon"></a>The Docker daemon</h3><p>The Docker daemon runs on a host machine. The user uses the Docker client to interact with the daemon.</p>
<p>Docekrå®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šã€‚ç”¨æˆ·é€šè¿‡Docker clientå’Œå®ˆæŠ¤è¿›ç¨‹é€šè®¯ã€‚</p>
<h3 id="The-Docker-client"><a href="#The-Docker-client" class="headerlink" title="The Docker client"></a>The Docker client</h3><p>The Docker client, in the form of the <code>docker</code> binary, is the primary user interface to Docker. It accepts commands and configuration flags from the user and communicates with a Docker daemon. One client can even communicate with multiple unrelated daemons.</p>
<p>Docker clientæ˜¯<code>docker</code>çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ï¼Œæ˜¯Dockerä¸»è¦çš„ç”¨æˆ·ç•Œé¢ã€‚ä¸»è¦æ¥å—ä»ç”¨æˆ·å‘å‡ºçš„å‘½ä»¤å’Œé…ç½®æ ‡è¯†æ¥å’ŒDockerå®ˆæŠ¤è¿›ç¨‹é€šè®¯ã€‚ä¸€ä¸ªclientå¯ä»¥å’Œå¤šä¸ªä¸ç›¸å…³çš„å®ˆæŠ¤è¿›ç¨‹é€šè®¯ã€‚</p>
<h3 id="Inside-Docker"><a href="#Inside-Docker" class="headerlink" title="Inside Docker"></a>Inside Docker</h3><p>To understand Dockerâ€™s internals, you need to know about <em>images</em>, <em>registries</em>, and <em>containers</em>.</p>
<p>è¦äº†è§£Dockerçš„é‡Œé¢ï¼Œä½ éœ€è¦çŸ¥é“é•œåƒï¼Œä»“åº“ï¼Œå’Œå®¹å™¨ã€‚</p>
<h4 id="Docker-images"><a href="#Docker-images" class="headerlink" title="Docker images"></a>Docker images</h4><p>A Docker <em>image</em> is a read-only template with instructions for creating a Docker container. For example, an image might contain an Ubuntu operating system with Apache web server and your web application installed. You can build or update images from scratch or download and use images created by others. An image may be based on, or may extend, one or more other images. A docker image is described in text file called a <em>Dockerfile</em>, which has a simple, well-defined syntax. For more details about images, see <a href="https://docs.docker.com/engine/understanding-docker/#how-does-a-docker-image-work" target="_blank" rel="noopener">How does a Docker image work?</a>.</p>
<p>Docker images are the <strong>build</strong> component of Docker.</p>
<p>Dockeré•œåƒå°±æ˜¯åˆ›å»ºå®¹å™¨çš„åªè¯»æ¨¡æ¿ã€‚ä¸¾ä¸ªæ —å­ï¼Œä¸€ä¸ªåŒ…å«Ubuntuç³»ç»Ÿï¼ŒApacheï¼Œå’Œä½ çš„webåº”ç”¨çš„é•œåƒã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹è½½æˆ–æ‹¼å‡‘åˆ›å»ºæˆ–æ›´æ–°å®¹å™¨ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººåˆ›å»ºçš„é•œåƒã€‚ä¸€ä¸ªé•œåƒå¯èƒ½åŸºäºæˆ–è€…æ‰©å±•ä¸€ä¸ªæˆ–å…¶ä»–å‡ ä¸ªé•œåƒã€‚æ¯ä¸ªdockeré•œåƒé€šè¿‡ç®€å•å¹¶å…·æœ‰å®Œæ•´è§„åˆ™çš„_Dockerfile_æ¥æè¿°ã€‚æ›´å¤šå…³äºé•œåƒçš„ä¿¡æ¯ï¼ŒæŸ¥çœ‹<a href="#how-does-a-docker-image-work"> Dockeré•œåƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</a></p>
<h4 id="Docker-containers"><a href="#Docker-containers" class="headerlink" title="Docker containers"></a>Docker containers</h4><p>A Docker container is a runnable instance of a Docker image. You can run, start, stop, move, or delete a container using Docker API or CLI commands. When you run a container, you can provide configuration metadata such as networking information or environment variables. Each container is an isolated and secure application platform, but can be given access to resources running in a different host or container, as well as persistent storage or databases. For more details about containers, see <a href="https://docs.docker.com/engine/understanding-docker/#how-does-a-container-work" target="_blank" rel="noopener">How does a container work?</a>.</p>
<p>Docker containers are the <strong>run</strong> component of Docker.</p>
<p>Dockerå®¹å™¨æ˜¯Dockeré•œåƒçš„ä¸€ä¸ªè¿è¡Œå®ä¾‹ã€‚ä½ å¯ä»¥ä½¿ç”¨Dockerçš„APIæˆ–CLIå‘½ä»¤è¡Œè¿è¡Œï¼Œå¼€å§‹ï¼Œåœæ­¢ï¼Œç§»åŠ¨æˆ–åˆ é™¤å®¹å™¨ã€‚å½“ä½ è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œä½ å¯ä»¥æä¾›é…ç½®å…ƒæ•°æ®æ¯”å¦‚ç½‘ç»œä¿¡æ¯æˆ–ç¯å¢ƒå˜é‡ã€‚æ¯ä¸€ä¸ªå®¹å™¨å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹å’Œå®‰å…¨çš„åº”ç”¨å¹³å°ï¼Œä½†æ˜¯å®ƒå¯ä»¥ä½¿èµ„æºè¿è¡Œåœ¨ä¸åŒçš„ä¸»æœºæˆ–å®¹å™¨ï¼Œæ¯”å¦‚ç‹¬ç«‹çš„å­˜å‚¨æˆ–æ•°æ®åº“ã€‚æ›´å¤šå…³äºå®¹å™¨çš„ä»‹ç»ï¼ŒæŸ¥çœ‹ï¼š<a href="#how-does-a-container-work">å®¹å™¨æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</a></p>
<h4 id="Docker-registries"><a href="#Docker-registries" class="headerlink" title="Docker registries"></a>Docker registries</h4><p>A docker registry is a library of images. A registry can be public or private, and can be on the same server as the Docker daemon or Docker client, or on a totally separate server. For more details about registries, see <a href="https://docs.docker.com/engine/understanding-docker/#how-does-a-docker-registry-work" target="_blank" rel="noopener">How does a Docker registry work?</a></p>
<p>Docker registries are the <strong>distribution</strong> component of Docker.</p>
<p>ä¸€ä¸ªDockerä»“åº“å°±æ˜¯é•œåƒçš„å›¾ä¹¦é¦†ã€‚ä¸€ä¸ªä»“åº“æ—¢å¯ä»¥æ˜¯å…¬å¼€çš„ä¹Ÿå¯ä»¥æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºDockerå®ˆæŠ¤è¿›ç¨‹æˆ–Dockerå®¢æˆ·ç«¯åœ¨åŒä¸€æœåŠ¡å™¨æˆ–ç‹¬ç«‹çš„æœåŠ¡å™¨ä¸Šã€‚æ›´å¤šå…³äºä»“åº“çš„ç»†èŠ‚ï¼ŒæŸ¥çœ‹ <a href="#how-does-a-docker-registry-work">Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</a></p>
<h4 id="Docker-services"><a href="#Docker-services" class="headerlink" title="Docker services"></a>Docker services</h4><p>A Docker <em>service</em> allows a <em>swarm</em> of Docker nodes to work together, running a defined number of instances of a replica task, which is itself a Docker image. You can specify the number of concurrent replica tasks to run, and the swarm manager ensures that the load is spread evenly across the worker nodes. To the consumer, the Docker service appears to be a single application. Docker Engine supports swarm mode in Docker 1.12 and higher.</p>
<p>Docker services are the <strong>scalability</strong> component of Docker.</p>
<p>DockeræœåŠ¡æ”¯æŒå¤šä¸ªDockerèŠ‚ç‚¹ååŒçš„é›†ç¾¤å·¥ä½œï¼Œè¿è¡Œä¸€ä¸ªå®šä¹‰çš„å‰¯æœ¬ä»»åŠ¡ï¼Œå®ƒä»¬æœ¬èº«å°±æ˜¯ä¸€ä¸ªDockeré•œåƒã€‚ä½ å¯ä»¥æŒ‡å®šåŒæ—¶è¿è¡Œä»»åŠ¡çš„æ•°é‡ï¼Œå¹¶ä¸”é›†ç¾¤ç®¡ç†ç¡®ä¿å‹åŠ›è¢«åˆ†æ•£åˆ°å„ä¸ªå·¥ä½œèŠ‚ç‚¹ã€‚å¯¹äºé¡¾å®¢ï¼ŒDockeræœåŠ¡æ˜¾ç¤ºä¸ºå•ä¸ªåº”ç”¨ã€‚Dockerå¼•æ“æ”¯æŒé›†ç¾¤åœ¨Docker1.12æˆ–æ›´é«˜çš„ç‰ˆæœ¬ã€‚</p>
<p>DockeræœåŠ¡çš„å¯æ‰©å±•æ€§æ˜¯Dockerçš„é‡è¦æ€§èƒ½ä¹‹ä¸€ã€‚</p>
<h3 id="How-does-a-Docker-image-work"><a href="#How-does-a-Docker-image-work" class="headerlink" title="How does a Docker image work?"></a>How does a Docker image work?</h3><p>Docker images are read-only templates from which Docker containers are instantiated. Each image consists of a series of layers. Docker uses <a href="http://en.wikipedia.org/wiki/UnionFS" target="_blank" rel="noopener">union file systems</a> to combine these layers into a single image. Union file systems allow files and directories of separate file systems, known as branches, to be transparently overlaid, forming a single coherent file system.</p>
<p>Dockeré•œåƒæ˜¯ä»Dockerå®¹å™¨ä¸­å®ä¾‹åŒ–çš„åªè¯»æ¨¡æ¿ã€‚æ¯ä¸ªé•œåƒç”±ä¸€ç³»åˆ—çš„å±‚ç»„æˆã€‚Dockerä½¿ç”¨è”åˆæ–‡ä»¶ç³»ç»ŸæŠŠè¿™äº›å±‚ç»„æˆå•ä¸ªé•œåƒã€‚è”åˆæ–‡ä»¶ç³»ç»Ÿå¯ä»¥ä½¿åƒåˆ†æ”¯è¿™æ ·çš„å±äºç‹¬ç«‹æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶å’Œç›®å½•å åŠ å½¢æˆä¸€ä¸ªç‹¬ç«‹ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>These layers are one of the reasons Docker is so lightweight. When you change a Docker image, such as when you update an application to a new version, a new layer is built and replaces only the layer it updates. The other layers remain intact. To distribute the update, you only need to transfer the updated layer. Layering speeds up distribution of Docker images. Docker determines which layers need to be updated at runtime.</p>
<p>è¿™äº›å±‚æ˜¯Dockerå¦‚æ­¤è½»é‡çš„åŸå› ä¹‹ä¸€ã€‚å½“ä½ æ”¹å˜äº†ä½ çš„Dockeré•œåƒï¼Œæ¯”å¦‚å½“ä½ æ›´æ–°ä½ çš„åº”ç”¨åˆ°ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼ŒDockerä»…ä»…æ–°æ„å»ºä¸€ä¸ªå±‚å»æ›¿æ¢éœ€è¦æ›´æ–°çš„å±‚ã€‚å…¶ä»–çš„å±‚ä¿æŒä¸å˜ã€‚è¦åˆ†å‘è¿™ä¸ªæ›´æ–°ï¼Œä½ åªéœ€è¦ä¼ è¾“æ›´æ–°è¿‡çš„å±‚å°±å¯ä»¥äº†ã€‚åˆ†å±‚åŠ é€Ÿäº†Dockeré•œåƒçš„åˆ†å‘ã€‚Dockeråœ¨è¿è¡Œæ—¶å¾ˆæ˜ç¡®çš„çŸ¥é“å“ªäº›å±‚éœ€è¦æ›´æ–°ã€‚</p>
<p>An image is defined in a Dockerfile. Every image starts from a base image, such as <code>ubuntu</code>, a base Ubuntu image, or <code>fedora</code>, a base Fedora image. You can also use images of your own as the basis for a new image, for example if you have a base Apache image you could use this as the base of all your web application images. The base image is defined using the <code>FROM</code> keyword in the dockerfile.</p>
<p>ä¸€ä¸ªé•œåƒé€šä¸ªDockerfileæ¥å®šä¹‰ã€‚æ¯ä¸€ä¸ªé•œåƒå¼€å§‹äºåŸºç¡€é•œåƒï¼Œæ¯”å¦‚ <code>ubuntu</code>ä¸€ä¸ªåŸºäºUbuntuçš„é•œåƒï¼Œæˆ–è€…æ˜¯<code>fedora</code>ä¸€ä¸ªåŸºäºFedoraçš„é•œåƒã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä½ è‡ªå·±çš„åŸºç¡€ç»„ä»¶ä½œä¸ºæ–°çš„é•œåƒï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ä¸ªåŸºäºApacheçš„é•œåƒï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒä½œä¸ºä½ æ‰€æœ‰webåº”ç”¨çš„åŸºç¡€é•œåƒã€‚åŸºç¡€é•œåƒä½¿ç”¨<code>FROM</code>å…³é”®è¯åœ¨dockerfileä¸­å®šä¹‰</p>
<blockquote>
<p><strong>Note:</strong> <a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> is a public registry and stores images.</p>
<p>æ³¨æ„ï¼š<a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> æ˜¯ä¸€ä¸ªå­˜å‚¨é•œåƒçš„å…¬å…±ä»“åº“ã€‚</p>
</blockquote>
<p>The docker image is built from the base image using a simple, descriptive set of steps we call <em>instructions</em>, which are stored in a <code>Dockerfile</code>. Each instruction creates a new layer in the image. Some examples of Dockerfile instructions are:</p>
<ul>
<li>Specify the base image (<code>FROM</code>)</li>
<li>Specify the maintainer (<code>MAINTAINER</code>)</li>
<li>Run a command (<code>RUN</code>)</li>
<li>Add a file or directory (<code>ADD</code>)</li>
<li>Create an environment variable (<code>ENV</code>)</li>
<li>What process to run when launching a container from this image (<code>CMD</code>)</li>
</ul>
<p>Dockeré•œåƒé€šè¿‡å­˜å‚¨åœ¨Dockerfileä¸­ä¸€ç³»åˆ—ç®€å•ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæŒ‡ä»¤çš„æè¿°æ€§è®¾å®šæ„å»ºã€‚æ¯ä¸€æ¡æŒ‡ä»¤åœ¨é•œåƒä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å±‚ã€‚ä¸€äº›DockerfileæŒ‡ä»¤æ¯”å¦‚ï¼š</p>
<ul>
<li>æŒ‡å®šåŸºç¡€é•œåƒ(<code>FROM</code>)</li>
<li>æŒ‡å®šç»´æŠ¤(<code>MAINTAINER</code>)</li>
<li>è¿è¡Œä¸€ä¸ªå‘½ä»¤(<code>RUN</code>)</li>
<li>æ·»åŠ ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•(<code>ADD</code>)</li>
<li>åˆ›å»ºä¸€ä¸ªç¯å¢ƒå˜é‡(<code>ENV</code>)</li>
<li>å½“ä»è¿™ä¸ªé•œåƒä¸­è¿è¡Œä¸€ä¸ªå®¹å™¨æ—¶è¿è¡Œå“ªä¸ªè¿›ç¨‹ (<code>CMD</code>)</li>
</ul>
<p>Docker reads this <code>Dockerfile</code> when you request a build of an image, executes the instructions, and returns the image.</p>
<p>Dockerè¯»å–<code>Dockerfile</code> å½“ä½ è¯·æ±‚æ„å»ºä¸€ä¸ªé•œåƒï¼Œæ‰§è¡ŒæŒ‡ä»¤ï¼Œè¿”å›é•œåƒã€‚</p>
<h3 id="How-does-a-Docker-registry-work"><a href="#How-does-a-Docker-registry-work" class="headerlink" title="How does a Docker registry work?"></a>How does a Docker registry work?</h3><p>A Docker registry stores Docker images. After you build a Docker image, you can <em>push</em> it to a public registry such as<a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> or to a private registry running behind your firewall. You can also search for existing images and pull them from the registry to a host.</p>
<p>ä¸€ä¸ªDockerä»“åº“ä¿å­˜ç€Dockeré•œåƒã€‚åœ¨ä½ åˆ›å»ºä¸€ä¸ªDockeré•œåƒä¹‹åï¼Œä½ å¯ä»¥æŠŠå®ƒæ¨é€åˆ°åƒ<a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub </a>ä¸€æ ·çš„å…¬å…±ä»“åº“æˆ–è¿è¡Œåœ¨ä½ çš„é˜²ç«å¢™ä¹‹ä¸‹çš„ç§æœ‰ä»“åº“.ä½ å¯ä»¥æœç´¢å·²ç»å­˜åœ¨çš„é•œåƒå¹¶ä¸”æŠŠå®ƒä»¬ä»ä¸€ä¸ªä»“åº“æ¨é€åˆ°ä¸»æœºä¸Šã€‚</p>
<p><a href="http://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> is a public Docker registry which serves a huge collection of existing images and allows you to contribute your own. For more information, go to <a href="https://docs.docker.com/registry/overview/" target="_blank" rel="noopener">Docker Registry</a> and <a href="https://docs.docker.com/docker-trusted-registry/overview/" target="_blank" rel="noopener">Docker Trusted Registry</a>.</p>
<p><a href="http://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a> æ˜¯ä¸€ä¸ªå­˜ç€å¤§é‡é•œåƒå¹¶å…è®¸æ¨é€é•œåƒçš„å…¬å¼€çš„Dockerä»“åº“ã€‚äº†è§£æ›´å¤šï¼Œå»<a href="https://docs.docker.com/registry/overview/" target="_blank" rel="noopener">Docker Registry</a> å’Œ Docker Trusted Registry ã€‚</p>
<p><a href="http://store.docker.com/" target="_blank" rel="noopener">Docker store</a> allows you to buy and sell Docker images. For image, you can buy a Docker image containing an application or service from the software vendor, and use the image to deploy the application into your testing, staging, and production environments, and upgrade the application by pulling the new version of the image and redeploying the containers. Docker Store is currently in private beta.</p>
<p><a href="http://store.docker.com/" target="_blank" rel="noopener">Docker store</a>å…è®¸ä½ ä¹°å–Dockeré•œåƒã€‚ä½ å¯ä»¥ä»è½¯ä»¶å•†é‚£é‡Œè´­ä¹°ä¸€ä¸ªåŒ…å«åº”ç”¨å’ŒæœåŠ¡çš„é•œåƒï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé•œåƒéƒ¨ç½²ä½ çš„åº”ç”¨åˆ°ä½ çš„æµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒï¼Œé€šè¿‡æ¨é€æ–°çš„é•œåƒå‡çº§ä½ çš„åº”ç”¨å¹¶é‡æ–°éƒ¨ç½²å®¹å™¨ã€‚Dockerå•†åº—ç›®å‰æ˜¯æµ‹è¯•ç‰ˆæœ¬ã€‚</p>
<h3 id="How-does-a-container-work"><a href="#How-does-a-container-work" class="headerlink" title="How does a container work?"></a>How does a container work?</h3><p>A container uses the host machineâ€™s Linux kernel, and consists of any extra files you add when the image is created, along with metadata associated with the container at creation or when the container is started. Each container is built from an image. The image defines the containerâ€™s contents, which process to run when the container is launched, and a variety of other configuration details. The Docker image is read-only. When Docker runs a container from an image, it adds a read-write layer on top of the image (using a UnionFS as we saw earlier) in which your application runs.</p>
<p>å®¹å™¨ä½¿ç”¨å®¿ä¸»æœºä¸Šçš„Linuxå†…æ ¸å’Œç”¨æˆ·æ·»åŠ çš„æ–‡ä»¶åˆ›å»ºï¼Œå¼€å¯æˆ–è¿è¡Œæ—¶å’Œmetadataä¸€èµ·å·¥ä½œã€‚æ¯ä¸€ä¸ªå®¹å™¨éƒ½æ¥è‡ªä¸€ä¸ªé•œåƒã€‚é•œåƒå®šä¹‰äº†å®¹å™¨çš„å†…å®¹ï¼Œè¿è¡Œä»€ä¹ˆè¿›ç¨‹ï¼Œå’Œä¸ªæ€§åŒ–çš„é…ç½®ç»†èŠ‚ã€‚Dockeré•œåƒæ˜¯åªè¯»çš„ã€‚å½“Dockerä»é•œåƒä¸Šå¼€å¯ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œå®ƒä¼šåœ¨é•œåƒçš„æœ€é¡¶å±‚åˆ›å»ºå¹¶æ·»åŠ ï¼ˆä½¿ç”¨å‰é¢æåˆ°çš„è”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ä½ çš„åº”ç”¨å±‚ã€‚</p>
<h4 id="What-happens-when-you-run-a-container"><a href="#What-happens-when-you-run-a-container" class="headerlink" title="What happens when you run a container?"></a>What happens when you run a container?</h4><p>When you use the <code>docker run</code> CLI command or the equivalent API, the Docker Engine client instructs the Docker daemon to run a container. This example tells the Docker daemon to run a container using the <code>ubuntu</code> Docker image, to remain in the foreground in interactive mode (<code>-i</code>), and to run the <code>/bin/bash</code> command.</p>
<p>å½“ä½ æ‰§è¡Œ<code>docker run</code>å‘½ä»¤æˆ–ç›¸åº”çš„apiï¼ŒDockerå¼•æ“å®¢æˆ·ç«¯å‘½ä»¤Dockerå®ˆæŠ¤è¿›ç¨‹è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚è¿™ä¸ªä¾‹å­å‘Šè¯‰Dockerå®ˆæŠ¤è¿›ç¨‹è¿è¡Œä¸€ä¸ª<code>ubuntu</code>Docker é•œåƒï¼Œå¼€å¯äº¤äº’æ¨¡å¼ï¼ˆ<code>-i</code>ï¼‰ï¼Œå¹¶ä¸”è¿è¡Œ<code>/bin/bash</code>å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ docker run -i -t ubuntu /bin/bash</span><br></pre></td></tr></table></figure>

<p>When you run this command, Docker Engine does the following:</p>
<ol>
<li><p><strong>Pulls the **<code>ubuntu</code></strong> image:** Docker Engine checks for the presence of the <code>ubuntu</code> image. If the image already exists locally, Docker Engine uses it for the new container. Otherwise, then Docker Engine pulls it from <a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a>.</p>
</li>
<li><p><strong>Creates a new container:</strong> Docker uses the image to create a container.</p>
</li>
<li><p><strong>Allocates a filesystem and mounts a read-write **</strong><em>layer</em><strong>**:</strong> The container is created in the file system and a read-write layer is added to the image.</p>
</li>
<li><p><strong>Allocates a network / bridge interface:</strong> Creates a network interface that allows the Docker container to talk to the local host.</p>
</li>
<li><p><strong>Sets up an IP address:</strong> Finds and attaches an available IP address from a pool.</p>
</li>
<li><p><strong>Executes a process that you specify:</strong> Executes the <code>/bin/bash</code> executable.</p>
</li>
<li><p><strong>Captures and provides application output:</strong> Connects and logs standard input, outputs and errors for you to see how your application is running, because you requested interactive mode.</p>
</li>
</ol>
<p>å½“ä½ è¿è¡Œè¿™æ¡å‘½ä»¤ï¼ŒDockerå¼•æ“åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ol>
<li><strong>æ‹‰å–</strong><code>ubuntu</code><strong>é•œåƒ</strong>ï¼š Dockerå¼•æ“æ£€æŸ¥<code>ubuntu</code>é•œåƒæ˜¯å¦å­˜åœ¨ã€‚å¦‚æœæœ¬åœ°å·²ç»æœ‰è¿™ä¸ªé•œåƒï¼ŒDockerå¼•æ“ä½¿ç”¨å®ƒåˆ›å»ºæ–°çš„å®¹å™¨ã€‚å¦‚æœæ²¡æœ‰ï¼Œç„¶åDockerå¼•æ“å°±ä»<a href="https://hub.docker.com/" target="_blank" rel="noopener">Docker Hub</a>ä¸Šæ‹‰å–ã€‚</li>
<li><strong>åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨</strong>ï¼šDockerä½¿ç”¨é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨ã€‚</li>
<li><strong>åˆ†é…æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸”æŒ‚è½½ä¸€ä¸ªåªè¯»å±‚</strong>ï¼šå®¹å™¨è¢«åˆ›å»ºåœ¨æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸”åªè¯»å±‚è¢«æ·»åŠ åˆ°é•œåƒä¸Šã€‚</li>
<li><strong>åˆ†é…ç½‘ç»œ/æ¡¥æ¥æ¥å£</strong>ï¼šåˆ›å»ºä¸€ä»½ç½‘ç»œæ¥å£ä½¿Dockerå¯ä»¥å’Œæœ¬åœ°ä¸»æœºé€šè®¯ã€‚</li>
<li><strong>è®¾ç½®IPåœ°å€</strong>ï¼šä»è¿æ¥æ± è·å–å¯ç”¨çš„IPåœ°å€ã€‚</li>
<li><strong>æ‰§è¡Œä½ æŒ‡å®šçš„è¿›ç¨‹</strong>ï¼šæ‰§è¡Œ<code>/bin/bash</code>ã€‚</li>
<li><strong>æ•è·å¹¶æä¾›åº”ç”¨è¾“å‡º</strong>ï¼šç”±äºä½ å¼€å¯äº¤äº’æ¨¡å¼ï¼ŒDockeræä¾›æ ‡å‡†çš„æ—¥å¿—è¾“å…¥è¾“å‡ºå’Œé”™è¯¯ï¼Œè®©ä½ çŸ¥é“ä½ çš„åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ã€‚</li>
</ol>
<p>Your container is now running. You can manage and interact with it, use the services and applications it provides, and eventually stop and remove it.</p>
<p>ä½ çš„å®¹å™¨ç°åœ¨æ­£åœ¨è¿è¡Œã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæä¾›çš„æœåŠ¡å’Œåº”ç”¨ç®¡ç†å¹¶æ§åˆ¶å®ƒï¼Œå¹¶æœ€ç»ˆåœæ­¢å¹¶åˆ é™¤å®ƒã€‚</p>
<h2 id="The-underlying-technology"><a href="#The-underlying-technology" class="headerlink" title="The underlying technology"></a>The underlying technology</h2><p>Docker is written in <a href="https://golang.org/" target="_blank" rel="noopener">Go</a> and takes advantage of several features of the Linux kernel to deliver its functionality.</p>
<p>Dockerä½¿ç”¨<a href="https://golang.org/" target="_blank" rel="noopener">Go</a>è¯­è¨€ç¼–å†™,å……åˆ†åˆ©ç”¨Linuxå†…æ ¸çš„å¤šä¸ªä¼˜åŠ¿åŠŸèƒ½å–å®ç°å…¶åŠŸèƒ½ã€‚</p>
<h3 id="Namespaces"><a href="#Namespaces" class="headerlink" title="Namespaces"></a>Namespaces</h3><p>Docker uses a technology called <code>namespaces</code> to provide the isolated workspace called the <em>container</em>. When you run a container, Docker creates a set of <em>namespaces</em> for that container.</p>
<p>Dockerä½¿ç”¨å‘½åç©ºé—´æŠ€æœ¯ä¸ºå®¹å™¨æä¾›éš”ç¦»çš„å·¥ä½œç¯å¢ƒã€‚å½“ä½ è¿è¡Œä¸€ä¸ªå®¹å™¨æ—¶ï¼ŒDockerä¸ºè¿™ä¸ªå®¹å™¨åˆ›å»ºå‘½åç©ºé—´ã€‚</p>
<p>These namespaces provide a layer of isolation. Each aspect of a container runs in a separate namespace and its access is limited to that namespace.</p>
<p>è¿™äº›å‘½åç©ºé—´æä¾›ä¸€ä¸ªéš”ç¦»å±‚ã€‚æ¯ä¸ªå®¹å™¨è¿è¡Œåœ¨ç‹¬ç«‹çš„å‘½åç©ºé—´ï¼Œä¸”è®¿é—®æƒé™é™å®šåœ¨å‘½åç©ºé—´é‡Œé¢ã€‚</p>
<p>Docker Engine uses namespaces such as the following on Linux:</p>
<ul>
<li><strong>The **<code>pid</code></strong> namespace:** Process isolation (PID: Process ID).</li>
<li><strong>The **<code>net</code></strong> namespace:** Managing network interfaces (NET: Networking).</li>
<li><strong>The **<code>ipc</code></strong> namespace:** Managing access to IPC resources (IPC: InterProcess Communication).</li>
<li><strong>The **<code>mnt</code></strong> namespace:** Managing filesystem mount points (MNT: Mount).</li>
<li><strong>The **<code>uts</code></strong> namespace:** Isolating kernel and version identifiers. (UTS: Unix Timesharing System).</li>
</ul>
<p>Dockerä½¿ç”¨çš„å‘½åç©ºé—´ï¼Œå¦‚åœ¨Linuxä¸‹é¢ï¼š</p>
<ul>
<li><code>pid</code>å‘½åç©ºé—´ï¼šè¿›ç¨‹éš”ç¦»(PID: Process ID)ã€‚</li>
<li><code>net</code>å‘½åç©ºé—´ï¼šç½‘ç»œæ¥å£ç®¡ç† (NET: Networking)ã€‚</li>
<li><code>ipc</code>å‘½åç©ºé—´ï¼šè¿›ç¨‹é—´é€šè®¯ç®¡ç† (IPC: InterProcess Communication)ã€‚</li>
<li><code>mnt</code>å‘½åç©ºé—´ï¼šæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹ç®¡ç†(MNT: Mount)ã€‚</li>
<li><code>uts</code>å‘½åç©ºé—´ï¼šéš”ç¦»å†…æ ¸å’Œç‰ˆæœ¬æ ‡è¯†ç¬¦(UTS: Unix Timesharing System)ã€‚</li>
</ul>
<h3 id="Control-groups"><a href="#Control-groups" class="headerlink" title="Control groups"></a>Control groups</h3><p>Docker Engine on Linux also relies on another technology called <em>control groups</em> (<code>cgroups</code>). A cgroup limits an application to a specific set of resources. Control groups allow Docker Engine to share available hardware resources to containers and optionally enforce limits and constraints. For example, you can limit the memory available to a specific container.</p>
<p>Dockerå¼•æ“ä½¿ç”¨äº†Linuxå¦ä¸€é¡¹å«åšæ§åˆ¶ç»„çš„æŠ€æœ¯ï¼ˆ<code>cgroups</code>ï¼‰ã€‚ä¸€ä¸ªæ§åˆ¶ç»„é™å®šç¨‹åºè®¿é—®æŒ‡å®šçš„èµ„æºã€‚æ§åˆ¶ç»„å…è®¸Dockerå¼•æ“åˆ†äº«å¯ç”¨çš„ç¡¬ä»¶èµ„æºå¯é€‰å¼ºåˆ¶é™åˆ¶å’Œçº¦æŸç»™å®¹å™¨ã€‚æ¯”å¦‚ä½ å¯ä»¥é™åˆ¶æŒ‡å®šå®¹å™¨çš„å†…å­˜å¤§å°ã€‚</p>
<h3 id="Union-file-systems"><a href="#Union-file-systems" class="headerlink" title="Union file systems"></a>Union file systems</h3><p>Union file systems, or UnionFS, are file systems that operate by creating layers, making them very lightweight and fast. Docker Engine uses UnionFS to provide the building blocks for containers. Docker Engine can use multiple UnionFS variants, including AUFS, btrfs, vfs, and DeviceMapper.</p>
<p>è”åˆæ–‡ä»¶ç³»ç»Ÿæ˜¯åˆ›å»ºå±‚çš„è¿è½¬ç³»ç»Ÿï¼Œä½¿å±‚éå¸¸è½»é‡å’Œå¿«é€Ÿã€‚Dockerå¼•æ“ä½¿ç”¨è”åˆæ–‡ä»¶ç³»ç»Ÿæä¾›æ„å»ºå—ç»™å®¹å™¨ã€‚Dockerå¯ä»¥ä½¿ç”¨è”åˆæ–‡ä»¶ç³»ç»Ÿå˜ä½“ï¼Œæ¯”å¦‚ AUFS, btrfs, vfs, and DeviceMapperã€‚</p>
<h3 id="Container-format"><a href="#Container-format" class="headerlink" title="Container format"></a>Container format</h3><p>Docker Engine combines the namespaces, control groups, and UnionFS into a wrapper called a container format. The default container format is <code>libcontainer</code>. In the future, Docker may support other container formats by integrating with technologies such as BSD Jails or Solaris Zones.</p>
<p>Dockerå¼•æ“æŠŠå‘½åç©ºé—´ï¼Œæ§åˆ¶ç»„ï¼Œå’Œè”åˆæ–‡ä»¶ç³»ç»ŸåŒ…è£…è¿›ä¸€ä¸ªå±‚è¿™å«åšå®¹å™¨æ ¼å¼åŒ–ã€‚é»˜è®¤çš„å®¹å™¨æ ¼å¼åŒ–å«åš<code>libcontainer</code>ã€‚æœªæ¥ï¼ŒDockerå¯èƒ½æ”¯æŒå…¶ä»–çš„å®¹å™¨æ ¼å¼åŒ–æŠ€æœ¯ï¼Œæ¯”å¦‚BSD Jails æˆ– Solaris Zonesã€‚</p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wepay.jpeg" alt="ovack WeChat Pay">
        <p>WeChat Pay</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>ovack
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://ovack.com/2016/10/20/Docker-Overview/" title="Docker æ¦‚è§ˆ">https://ovack.com/2016/10/20/Docker-Overview/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC</a> unless stating additionally.
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/OvackChen">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2016/10/13/Installation-on-CentOs/" rel="prev" title="åœ¨centosä¸Šå®‰è£…Docker">
      <i class="fa fa-chevron-left"></i> åœ¨centosä¸Šå®‰è£…Docker
    </a></div>
      <div class="post-nav-item">
    <a href="/2016/10/21/Installation-on-fedora/" rel="next" title="åœ¨fedoraä¸Šå®‰è£…Docker">
      åœ¨fedoraä¸Šå®‰è£…Docker <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-æ¦‚è¿°"><span class="nav-number">1.</span> <span class="nav-text">Docker æ¦‚è¿°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-the-Docker-platform"><span class="nav-number">1.1.</span> <span class="nav-text">What is the Docker platform?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-Docker-Engine"><span class="nav-number">1.2.</span> <span class="nav-text">What is Docker Engine?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-can-I-use-Docker-for"><span class="nav-number">1.3.</span> <span class="nav-text">What can I use Docker for?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-Dockerâ€™s-architecture"><span class="nav-number">1.4.</span> <span class="nav-text">What is Dockerâ€™s architecture?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Docker-daemon"><span class="nav-number">1.4.1.</span> <span class="nav-text">The Docker daemon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Docker-client"><span class="nav-number">1.4.2.</span> <span class="nav-text">The Docker client</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inside-Docker"><span class="nav-number">1.4.3.</span> <span class="nav-text">Inside Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-images"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">Docker images</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-containers"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">Docker containers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-registries"><span class="nav-number">1.4.3.3.</span> <span class="nav-text">Docker registries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Docker-services"><span class="nav-number">1.4.3.4.</span> <span class="nav-text">Docker services</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-does-a-Docker-image-work"><span class="nav-number">1.4.4.</span> <span class="nav-text">How does a Docker image work?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-does-a-Docker-registry-work"><span class="nav-number">1.4.5.</span> <span class="nav-text">How does a Docker registry work?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-does-a-container-work"><span class="nav-number">1.4.6.</span> <span class="nav-text">How does a container work?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#What-happens-when-you-run-a-container"><span class="nav-number">1.4.6.1.</span> <span class="nav-text">What happens when you run a container?</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-underlying-technology"><span class="nav-number">1.5.</span> <span class="nav-text">The underlying technology</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Namespaces"><span class="nav-number">1.5.1.</span> <span class="nav-text">Namespaces</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Control-groups"><span class="nav-number">1.5.2.</span> <span class="nav-text">Control groups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Union-file-systems"><span class="nav-number">1.5.3.</span> <span class="nav-text">Union file systems</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Container-format"><span class="nav-number">1.5.4.</span> <span class="nav-text">Container format</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ovack"
      src="/images/base/avatar.jpg">
  <p class="site-author-name" itemprop="name">ovack</p>
  <div class="site-description" itemprop="description">åªæ˜¯ä¸ªè®°äº‹æœ¬ï½ï½ï½ğŸ—’</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ovack" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;ovack" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:youfengtec@gmail.com" title="E-Mail â†’ mailto:youfengtec@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/OvackChen" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;OvackChen" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ovack</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
